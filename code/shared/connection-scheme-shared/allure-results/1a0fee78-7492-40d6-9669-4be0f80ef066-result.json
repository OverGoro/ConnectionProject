{"uuid":"1a0fee78-7492-40d6-9669-4be0f80ef066","historyId":"6edad6a5a02ee9bf3b803ba4c8b99efb","testCaseId":"[engine:junit-jupiter]/[class:com.connection.scheme.repository.ConnectionSchemeRepositorySQLImplTest]/[method:testUpdateScheme_Positive()]","testCaseName":"Update scheme - Positive","fullName":"com.connection.scheme.repository.ConnectionSchemeRepositorySQLImplTest.testUpdateScheme_Positive","labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:com.connection.scheme.repository.ConnectionSchemeRepositorySQLImplTest]/[method:testUpdateScheme_Positive()]"},{"name":"host","value":"Yurik"},{"name":"thread","value":"268435@Yurik.main(1)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"com.connection.scheme.repository.ConnectionSchemeRepositorySQLImplTest"},{"name":"testClass","value":"com.connection.scheme.repository.ConnectionSchemeRepositorySQLImplTest"},{"name":"testMethod","value":"testUpdateScheme_Positive"},{"name":"suite","value":"Connection Scheme Repository Tests - SQL implementation tests"}],"links":[],"name":"Update scheme - Positive","status":"failed","statusDetails":{"known":false,"muted":false,"flaky":false,"message":"\nArgument(s) are different! Wanted:\njdbcTemplate.update(\n    \"DELETE FROM processing.connection_scheme_buffer WHERE scheme_uid = :scheme_uid\",\n    <any org.springframework.jdbc.core.namedparam.MapSqlParameterSource>\n);\n-> at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:337)\nActual invocations have different arguments at position [0]:\njdbcTemplate.queryForObject(\n    \"SELECT cs.uid, cs.client_uid, cs.scheme_json FROM processing.connection_scheme cs WHERE cs.uid = :uid\",\n    MapSqlParameterSource {uid=123e4567-e89b-12d3-a456-426614174000},\n    com.connection.scheme.repository.ConnectionSchemeRepositorySQLImpl$$Lambda/0x000079384038eed8@5981f4a6\n);\n-> at com.connection.scheme.repository.ConnectionSchemeRepositorySQLImpl.exists(ConnectionSchemeRepositorySQLImpl.java:146)\njdbcTemplate.update(\n    \"UPDATE processing.connection_scheme SET scheme_json = :scheme_json WHERE uid = :uid\",\n    MapSqlParameterSource {uid=123e4567-e89b-12d3-a456-426614174000, scheme_json={\"223e4567-e89b-12d3-a456-426614174002\":[\"223e4567-e89b-12d3-a456-426614174003\"],\"223e4567-e89b-12d3-a456-426614174003\":[\"223e4567-e89b-12d3-a456-426614174004\"]}}\n);\n-> at com.connection.scheme.repository.ConnectionSchemeRepositorySQLImpl.update(ConnectionSchemeRepositorySQLImpl.java:101)\njdbcTemplate.update(\n    \"DELETE FROM processing.buffer WHERE connection_scheme_uid = :scheme_uid\",\n    MapSqlParameterSource {scheme_uid=123e4567-e89b-12d3-a456-426614174000}\n);\n-> at com.connection.scheme.repository.ConnectionSchemeRepositorySQLImpl.updateBuffers(ConnectionSchemeRepositorySQLImpl.java:191)\njdbcTemplate.update(\n    \"INSERT INTO processing.buffer (uid, connection_scheme_uid, max_messages_number, max_message_size, message_prototype) VALUES (:buffer_uid, :scheme_uid, :max_messages_number, :max_message_size, :message_prototype)\",\n    MapSqlParameterSource {buffer_uid=223e4567-e89b-12d3-a456-426614174002, scheme_uid=123e4567-e89b-12d3-a456-426614174000, max_messages_number=1000, max_message_size=1024, message_prototype=default}\n);\n-> at com.connection.scheme.repository.ConnectionSchemeRepositorySQLImpl.saveBuffers(ConnectionSchemeRepositorySQLImpl.java:180)\njdbcTemplate.update(\n    \"INSERT INTO processing.buffer (uid, connection_scheme_uid, max_messages_number, max_message_size, message_prototype) VALUES (:buffer_uid, :scheme_uid, :max_messages_number, :max_message_size, :message_prototype)\",\n    MapSqlParameterSource {buffer_uid=223e4567-e89b-12d3-a456-426614174003, scheme_uid=123e4567-e89b-12d3-a456-426614174000, max_messages_number=1000, max_message_size=1024, message_prototype=default}\n);\n-> at com.connection.scheme.repository.ConnectionSchemeRepositorySQLImpl.saveBuffers(ConnectionSchemeRepositorySQLImpl.java:180)\njdbcTemplate.update(\n    \"INSERT INTO processing.buffer (uid, connection_scheme_uid, max_messages_number, max_message_size, message_prototype) VALUES (:buffer_uid, :scheme_uid, :max_messages_number, :max_message_size, :message_prototype)\",\n    MapSqlParameterSource {buffer_uid=223e4567-e89b-12d3-a456-426614174004, scheme_uid=123e4567-e89b-12d3-a456-426614174000, max_messages_number=1000, max_message_size=1024, message_prototype=default}\n);\n-> at com.connection.scheme.repository.ConnectionSchemeRepositorySQLImpl.saveBuffers(ConnectionSchemeRepositorySQLImpl.java:180)\n","trace":"Argument(s) are different! Wanted:\njdbcTemplate.update(\n    \"DELETE FROM processing.connection_scheme_buffer WHERE scheme_uid = :scheme_uid\",\n    <any org.springframework.jdbc.core.namedparam.MapSqlParameterSource>\n);\n-> at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:337)\nActual invocations have different arguments at position [0]:\njdbcTemplate.queryForObject(\n    \"SELECT cs.uid, cs.client_uid, cs.scheme_json FROM processing.connection_scheme cs WHERE cs.uid = :uid\",\n    MapSqlParameterSource {uid=123e4567-e89b-12d3-a456-426614174000},\n    com.connection.scheme.repository.ConnectionSchemeRepositorySQLImpl$$Lambda/0x000079384038eed8@5981f4a6\n);\n-> at com.connection.scheme.repository.ConnectionSchemeRepositorySQLImpl.exists(ConnectionSchemeRepositorySQLImpl.java:146)\njdbcTemplate.update(\n    \"UPDATE processing.connection_scheme SET scheme_json = :scheme_json WHERE uid = :uid\",\n    MapSqlParameterSource {uid=123e4567-e89b-12d3-a456-426614174000, scheme_json={\"223e4567-e89b-12d3-a456-426614174002\":[\"223e4567-e89b-12d3-a456-426614174003\"],\"223e4567-e89b-12d3-a456-426614174003\":[\"223e4567-e89b-12d3-a456-426614174004\"]}}\n);\n-> at com.connection.scheme.repository.ConnectionSchemeRepositorySQLImpl.update(ConnectionSchemeRepositorySQLImpl.java:101)\njdbcTemplate.update(\n    \"DELETE FROM processing.buffer WHERE connection_scheme_uid = :scheme_uid\",\n    MapSqlParameterSource {scheme_uid=123e4567-e89b-12d3-a456-426614174000}\n);\n-> at com.connection.scheme.repository.ConnectionSchemeRepositorySQLImpl.updateBuffers(ConnectionSchemeRepositorySQLImpl.java:191)\njdbcTemplate.update(\n    \"INSERT INTO processing.buffer (uid, connection_scheme_uid, max_messages_number, max_message_size, message_prototype) VALUES (:buffer_uid, :scheme_uid, :max_messages_number, :max_message_size, :message_prototype)\",\n    MapSqlParameterSource {buffer_uid=223e4567-e89b-12d3-a456-426614174002, scheme_uid=123e4567-e89b-12d3-a456-426614174000, max_messages_number=1000, max_message_size=1024, message_prototype=default}\n);\n-> at com.connection.scheme.repository.ConnectionSchemeRepositorySQLImpl.saveBuffers(ConnectionSchemeRepositorySQLImpl.java:180)\njdbcTemplate.update(\n    \"INSERT INTO processing.buffer (uid, connection_scheme_uid, max_messages_number, max_message_size, message_prototype) VALUES (:buffer_uid, :scheme_uid, :max_messages_number, :max_message_size, :message_prototype)\",\n    MapSqlParameterSource {buffer_uid=223e4567-e89b-12d3-a456-426614174003, scheme_uid=123e4567-e89b-12d3-a456-426614174000, max_messages_number=1000, max_message_size=1024, message_prototype=default}\n);\n-> at com.connection.scheme.repository.ConnectionSchemeRepositorySQLImpl.saveBuffers(ConnectionSchemeRepositorySQLImpl.java:180)\njdbcTemplate.update(\n    \"INSERT INTO processing.buffer (uid, connection_scheme_uid, max_messages_number, max_message_size, message_prototype) VALUES (:buffer_uid, :scheme_uid, :max_messages_number, :max_message_size, :message_prototype)\",\n    MapSqlParameterSource {buffer_uid=223e4567-e89b-12d3-a456-426614174004, scheme_uid=123e4567-e89b-12d3-a456-426614174000, max_messages_number=1000, max_message_size=1024, message_prototype=default}\n);\n-> at com.connection.scheme.repository.ConnectionSchemeRepositorySQLImpl.saveBuffers(ConnectionSchemeRepositorySQLImpl.java:180)\n\n\tat org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:337)\n\tat com.connection.scheme.repository.ConnectionSchemeRepositorySQLImplTest.testUpdateScheme_Positive(ConnectionSchemeRepositorySQLImplTest.java:127)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:580)\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1596)\n"},"stage":"finished","description":"","steps":[],"attachments":[],"parameters":[],"start":1759541106014,"stop":1759541106021}